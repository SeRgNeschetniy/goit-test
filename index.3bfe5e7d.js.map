{"mappings":"mEAAAA,EAAiBC,KAAKC,MAAM,m0DCE5B,IAAMC,EAAO,CACXC,UAAWC,SAASC,cAAc,eAClCC,cAAeF,SAASC,cAAc,cAGpCE,EAAY,GACZC,EAAY,GAMhB,SAASC,EAAeC,GACtB,OAAOH,EAAUI,SAASD,EAAGE,YAAc,YAAc,Q,CAG3D,IAAMC,EAAc,WAClB,IAAMC,EAAiBd,KAAKC,MAAMc,aAAaC,QAAQ,cACjDC,EAAajB,KAAKC,MAAMc,aAAaC,QAAQ,UAEnDT,EAAYO,GAAkC,GAC9CN,EAAYS,GAA0BC,EAAAnB,GAEtCG,EAAKC,UAAUgB,UAAYC,G,EAGvBA,EAAiB,WACrB,OAAOZ,EACJa,KACC,SAAAC,G,IArBkBC,EAqBfb,EAAEY,EAAFZ,GAAIc,EAAIF,EAAJE,KAAMC,EAAMH,EAANG,OAAQC,EAASJ,EAATI,UAAWC,EAAML,EAANK,O,MAC9B,4BAGuBC,OAHKlB,EAAG,uIAGQkB,OAAhBD,EAAO,WAGDC,OAHUJ,EAAK,yFAIZI,OADHH,EAAO,uDAEoBG,QA9BxCL,EA6B+BG,EA5B9CH,EAAEX,WAAWiB,QAAO,wBAA0B,MA4BW,kFAGzCD,OAFuCnB,EAClDC,GACA,aAAiBkB,OAANlB,EAAG,KAAsBkB,OAAnBnB,EAAeC,GAAI,4B,IAG7CoB,KAAK,G,EAwBV1B,SAAS2B,KAAKC,iBAAiB,SArBhB,SAAAC,GACb,IAAMC,EAASD,EAAEC,OACjB,GAAIA,EAAOC,UAAUC,SAAS,YAAa,CACzC,IAAM1B,EAAKwB,EAAOG,QAAQ3B,GACpBc,EAAOhB,EAAU8B,MAAK,SAAAC,G,OAAMA,EAAG7B,IAAMA,C,IAEvCH,EAAUI,SAASD,IACrBc,EAAKE,WAAa,EAClBnB,EAAUiC,OAAOjC,EAAUkC,QAAQ/B,GAAK,KAExCc,EAAKE,WAAa,EAClBnB,EAAUmC,KAAKhC,IAGjBK,aAAa4B,QAAQ,QAAS3C,KAAK4C,UAAUpC,IAC7CO,aAAa4B,QAAQ,YAAa3C,KAAK4C,UAAUrC,IAEjDM,G,KAMJA,G","sources":["src/data/users.json","src/index.js"],"sourcesContent":["[\n  {\n    \"id\": 1,\n    \"user\": \"Elon Reeve Musk\",\n    \"tweets\": 777,\n    \"followers\": 100500,\n    \"avatar\": \"https://pixabay.com/get/ge67ecdacda6cf73a24206f8d5bfeea8d397a7090ec29f7cf21f0764d2696d10c57a3385d014db8ae1d9b0dc48ad47be7_640.jpg\"\n  },\n  {\n    \"id\": 2,\n    \"user\": \"Elon Reeve Musk\",\n    \"tweets\": 97458,\n    \"followers\": 5987456,\n    \"avatar\": \"https://pixabay.com/get/g42b12d36b49d8be7c6d2cb951392aaf36037058b5cda58eab94083c21663f0a40e737a0ba25c9c23f52d32b981d373cd_640.jpg\"\n  },\n  {\n    \"id\": 3,\n    \"user\": \"Elon Reeve Musk\",\n    \"tweets\": 158,\n    \"followers\": 65465,\n    \"avatar\": \"https://pixabay.com/get/gc6669ac979fd3b30cf1dc72731bf5bccb91640214a96c33150be831694aa63abcf474c248acb4aff5b6d8029ec8bb554_640.jpg\"\n  },\n  {\n    \"id\": 4,\n    \"user\": \"Elon Reeve Musk\",\n    \"tweets\": 365,\n    \"followers\": 4569,\n    \"avatar\": \"https://pixabay.com/get/gfe1a7f4ca0eaeeb8cc25ea4b0092e6f5656033ba89caf7ea517098f740d1d077c228d0cf2d834f1eae5e3d9aba125ce4_640.jpg\"\n  },\n  {\n    \"id\": 5,\n    \"user\": \"Elon Reeve Musk\",\n    \"tweets\": 9448,\n    \"followers\": 21656,\n    \"avatar\": \"https://pixabay.com/get/g89d9c72fffff0b625260895876617854b244750150508fac52f6b31e480b9317e62a6fcefce0f045b140e64f8faa2bee_640.jpg\"\n  },\n  {\n    \"id\": 6,\n    \"user\": \"Elon Reeve Musk\",\n    \"tweets\": 877,\n    \"followers\": 165,\n    \"avatar\": \"https://pixabay.com/get/gf6b07603adba082a88ce7b7be7fd6312b99d615278b6ce6c31b913c14ac3050744752f9fcf2c7200736c8326d833a66d_640.jpg\"\n  },\n  {\n    \"id\": 7,\n    \"user\": \"Elon Reeve Musk\",\n    \"tweets\": 1369,\n    \"followers\": 5465,\n    \"avatar\": \"https://pixabay.com/get/gb82222bee7dd478262cffb235ed5f4541cd278d93231d8ab3af90a437c867f0783b284c820c5ac2720a1f7a053dc9bbf_640.jpg\"\n  },\n  {\n    \"id\": 8,\n    \"user\": \"Elon Reeve Musk\",\n    \"tweets\": 689,\n    \"followers\": 5646546,\n    \"avatar\": \"https://pixabay.com/get/gc70a01e1868f2e18697ee39c2a0ddebd221910b4d05fd5308263f403cae57387c23218c11d5ce35d7580812c6b02a254_640.jpg\"\n  },\n  {\n    \"id\": 9,\n    \"user\": \"Elon Reeve Musk\",\n    \"tweets\": 1,\n    \"followers\": 98,\n    \"avatar\": \"https://pixabay.com/get/g28eb53b19a2dc4e7991783cc5ce065822e708245415668c887c3d30e21f301357b74d389b9ada720fdbaae39ac1568fa_640.jpg\"\n  }\n]\n","import users from './data/users.json';\n\nconst refs = {\n  cardsList: document.querySelector('.cards-list'),\n  cardBtnFollow: document.querySelector('.card-btn'),\n};\n\nlet following = [];\nlet usersData = [];\n\nfunction followerFormat(x) {\n  return x.toString().replace(/\\B(?=(\\d{3})+(?!\\d))/g, ',');\n}\n\nfunction checkFollowing(id) {\n  return following.includes(id.toString()) ? 'following' : 'follow';\n}\n\nconst renderCards = () => {\n  const followingLocal = JSON.parse(localStorage.getItem('following'));\n  const usersLocal = JSON.parse(localStorage.getItem('users'));\n\n  following = followingLocal ? followingLocal : [];\n  usersData = usersLocal ? usersLocal : users;\n\n  refs.cardsList.innerHTML = createUserList();\n};\n\nconst createUserList = () => {\n  return usersData\n    .map(\n      ({ id, user, tweets, followers, avatar }) =>\n        `<li class=\"card\" data-id=${id} data-state=\"follow\">\n            <div class=\"card-avatar\">\n                <div class=\"card-img\">\n                    <img src=${avatar}  alt=\"${user}\" />\n                </div>\n            </div>\n            <p class=\"card-tweets\">${tweets} tweets</p>\n            <p class=\"card-followers\">${followerFormat(followers)} followers</p>\n            <button type=\"button\" class=\"card-btn\" data-state=${checkFollowing(\n              id\n            )} data-id=${id}>${checkFollowing(id)}</button>\n         </li>`\n    )\n    .join('');\n};\n\nconst follow = e => {\n  const target = e.target;\n  if (target.classList.contains('card-btn')) {\n    const id = target.dataset.id;\n    const user = usersData.find(el => el.id == id);\n\n    if (following.includes(id)) {\n      user.followers -= 1;\n      following.splice(following.indexOf(id), 1);\n    } else {\n      user.followers += 1;\n      following.push(id);\n    }\n\n    localStorage.setItem('users', JSON.stringify(usersData));\n    localStorage.setItem('following', JSON.stringify(following));\n\n    renderCards();\n  }\n};\n\ndocument.body.addEventListener('click', follow);\n\nrenderCards();\n"],"names":["$1e0bcd2e21e1ffd6$exports","JSON","parse","$b8f9b7833fa37166$var$refs","cardsList","document","querySelector","cardBtnFollow","$b8f9b7833fa37166$var$following","$b8f9b7833fa37166$var$usersData","$b8f9b7833fa37166$var$checkFollowing","id","includes","toString","$b8f9b7833fa37166$var$renderCards","followingLocal","localStorage","getItem","usersLocal","$parcel$interopDefault","innerHTML","$b8f9b7833fa37166$var$createUserList","map","param","x","user","tweets","followers","avatar","concat","replace","join","body","addEventListener","e","target","classList","contains","dataset","find","el","splice","indexOf","push","setItem","stringify"],"version":3,"file":"index.3bfe5e7d.js.map"}